# PTAR SaaS Platform - Production Environment Variables
# Copy this file to .env and fill in the values

# ==============================================
# Server Configuration
# ==============================================
NODE_ENV=production
PORT=8080
HOST=0.0.0.0

# ==============================================
# Database
# ==============================================
DATABASE_PATH=/app/data/ptar-saas.db

# ==============================================
# Authentication
# ==============================================
# IMPORTANT: Generate a strong secret for production!
# Use: openssl rand -base64 64
JWT_SECRET=CHANGE_ME_TO_A_STRONG_SECRET_KEY_AT_LEAST_64_CHARS_LONG

# JWT token expiration (in seconds)
JWT_EXPIRATION=43200

# ==============================================
# Stripe (Billing)
# ==============================================
# Get these from https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY=sk_live_xxxx
STRIPE_PUBLISHABLE_KEY=pk_live_xxxx
STRIPE_WEBHOOK_SECRET=whsec_xxxx

# Price IDs from Stripe Dashboard > Products
STRIPE_PRICE_STARTER=price_xxxx_starter
STRIPE_PRICE_PRO=price_xxxx_pro

# ==============================================
# Email (Transactional)
# ==============================================
# Using SMTP (Gmail, SendGrid, Mailgun, etc.)
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_SECURE=false
EMAIL_USER=your-email@gmail.com
EMAIL_PASS=your-app-password
EMAIL_FROM="PTAR SaaS <noreply@ptar.io>"

# ==============================================
# File Storage
# ==============================================
UPLOADS_DIR=/app/uploads
MAX_FILE_SIZE=104857600
ALLOWED_FILE_TYPES=pdf,doc,docx,xls,xlsx,dwg,dxf,png,jpg,jpeg

# ==============================================
# CAD Conversion
# ==============================================
# Path to LibreDWG tools
DWG2DXF_PATH=/usr/bin/dwg2dxf

# Python for ezdxf (PDF conversion)
PYTHON_PATH=/usr/bin/python3

# ==============================================
# Security
# ==============================================
# CORS allowed origins (comma-separated)
CORS_ORIGINS=https://app.ptar.io,https://ptar.io

# Rate limiting
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100

# ==============================================
# Logging
# ==============================================
LOG_LEVEL=info
LOG_DIR=/app/logs

# ==============================================
# Feature Flags
# ==============================================
ENABLE_STRIPE=true
ENABLE_EMAIL=true
ENABLE_CAD_VIEWER=true
